<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Class="DecompilerGui.MainWindow"
        Width="1100" Height="700"
        Title="Linux Decompiler (Avalonia + ILSpy engine)">
  <DockPanel>
    <Menu DockPanel.Dock="Top">
      <MenuItem Header="_File">
        <MenuItem Header="_Open Assembly..." Click="OpenAssembly_Click"/>
        <Separator/>
        <MenuItem Header="E_xit" Click="Exit_Click"/>
      </MenuItem>
    </Menu>

    <Grid ColumnDefinitions="300, *">
      <!-- left: namespace/type tree -->
<TreeView Grid.Column="0"
          ItemsSource="{Binding Types}"
          SelectedItem="{Binding SelectedType, Mode=TwoWay}">
  <TreeView.ItemTemplate>
    <TreeDataTemplate ItemsSource="{Binding Children}">
      <TextBlock Text="{Binding DisplayName}" />
    </TreeDataTemplate>
  </TreeView.ItemTemplate>
</TreeView>

      <!-- right: code view -->
      <Grid Grid.Column="1" RowDefinitions="Auto, *">
        <TextBlock Margin="8"
                   Text="{Binding HeaderText}"
                   FontSize="16" FontWeight="Bold"/>
        <TextBox Grid.Row="1"
         Margin="8"
         IsReadOnly="True"
         AcceptsReturn="True"
         TextWrapping="NoWrap"
         ScrollViewer.HorizontalScrollBarVisibility="Auto"
         ScrollViewer.VerticalScrollBarVisibility="Auto"
         FontFamily="Consolas, Fira Code, Monospace"
         Text="{Binding DecompiledCode}"/>
      </Grid>
    </Grid>
  </DockPanel>
</Window>
